---
layout: post
title:  "Alerting in Grafana to Telegram"
date:   2022-02-20 09:00:00 +0200
tags: k3s alerting monitoring
published: false
---
# Overview
After you have working monitoring solution based on Prometheus/Grafana the next step is to get alerts for cases which you want to be informed.

kube-prometheus-stack brings [alertmanager](https://prometheus.io/docs/alerting/latest/alertmanager/) component which allows to handle alerts which are generated by prometheus or any other clients. It can route, suppress, group, deduplicate alerts, but configuration has to be done via config-files (via operator if it's running in kubernetes) so it's not easy to manage and amend on the fly.

Alternatively Grafana itself (from the same kube-prometheus-stack) can generate alerts and moreover it can use [Telegram Bot](https://core.telegram.org/bots) to generate alerts.

So plan is the following:
- Reinstall kube-prometheus-stack without alertmanager
- Register Telegram bot
- Create Telegram channel and add access there for bot which was just created
- Configure Telegram as Notification channel in Grafana
- Enable alerts for desired metrics in Grafana using Telegram as notification channel for it

